[4.] The C64 Mode

    In this chapter you'll learn:
    * What the C64 mode is
    * What the C64 mode has to offer
    * What you will need to use this mode
    * About popular Commodore 64 software products
    * How BASIC 2.0 differs from BASIC 7.0
    * The C64 mode DOS structure

The Commodore 128's second operating mode is its C64 mode. In this chapter
we'll explain what this mode is, why it is important to you, what external
devices you will want, and how you get into and out of this mode. Then we'll
describe a number of interesting Commodore 64 software products that cover a
broad spectrum of applications. In the last part of this chapter we'll
briefly state some of the changes that occur to the Commodore 128 when used
in this mode and we'll identify some of the BASIC programming compatibility
issues. We'll round off our discussion of this mode with a fast look at the
C64 mode's changes to DOS users. Let's begin by defining just what the
Commodore 64 mode means.

[4.1] What is the C64 Mode?

In the last chapter we explained how the Commodore 128 had the internal
components for three different computers. One of those component
arrangements forms the C128 mode; a second component arrangement forms the
C64 mode. This new arrangement, shown in Figure 4-1, reorganizes the
Commodore 128's internal hardware and software parts to form an exact
replica of a Commodore 64. Thus, when you use the C128 in its C64 mode you
are really using a Commodore 64. Naturally, how well you understand the
implications of this mode will depend on how familiar you are with the
Commodore 64. If you are not already familiar with what the C64 is, then a
very quick review of this product is in order.

  Figure 4-1. How C128 Stacks Up in the C64 Mode
  ##======================================##
  ||        Keyboard, Controllers,        ||
  ||          User Input/Output           ||
  ##======================================##
  ||    SID 3 Voice Sound Synthesizer     ||
  ##======================================##
  ||   VIC-II 40 Column Text + Graphics   ||
  ##========================##============##
  |     8563 80 Column      || C64 Kernal ||
  |     Text + Graphics     || BASIC 2.0  ||
  #-----------+-------------##            ||
  |    CP/M   | C128 Kernal ||            ||
  |    3.0    |  BASIC 7.0  ||            ||
  +-----------+-------------##============##
  | 64 K RAM  |  128 K RAM  ||  64 K RAM  ||
  +-----------+-------------##============##
  |   Z80 A   |    8502     ||    8502    ||
  +-----------+-------------##============##
  | CP/M Mode |  C128 Mode  ||  C64 Mode  ||
  ##==========#=============##============##
  ||   Intelligent Memory/Device Manager  ||
  ##======================================##

  The Commodore 64 History

The period between 1979 and 1982 marked Commodore's first big success in the
personal computer market - this was the era of the VIC-20 personal computer.
The VIC was a small innocuous computer sporting a typewriter like keyboard,
with built in BASIC, vivid color graphics, pleasing sound effects, and 5K of
RAM. It also had just about the lowest price tag ever seen for a computer.
Commodore's price structure for the VIC-20 was no accident: it was designed
to compete against home video game machines like the Atari 2600. The
strategy worked well and by late 1981 over one million people had succumbed
to the VIC's charm and low price. However, since technology does not stand
still, Commodore knew that if it was to remain number one in the home
computer market it would have to create a new and better computer by 1982.

The period from 1979 to 1981 was also the peak of the home video game craze.
It was during this time that Commodore's semiconductor chip subsidiary, MOS
Technology, began designing a series of super powerful video game graphics
and sound chips. In 1981 it completed the design of two high technology
microchips: the 6581 Sound Interface Device (SID) and the 6567 Video
Interface Chip II (VIC-II). Together these two chips were capable of truly
extraordinary graphics and sounds. Commodore originally intended to use
these two chips as cornerstones for its next generation of video game
machines. Instead, given the phenomenal success of the VIC-20, it decided to
use these chips as central components for a new 64K byte personal computer.
No one had yet offered a home computer with this memory capacity. Thus the
Commodore 64 concept was born.

When the Commodore 64 entered the home computer market in 1982 it had just
the right combination of built in features to favorably compete with the
then popular Atari 800, TI 99/4, and Apple II computers. Like the VIC-20
before it, the C64 was priced significantly below its competition. Because
of its low price and immense advertising campaign, the C64 quickly became a
household word. By 1985 over two million people had bought a Commodore 64
computer system and over six thousand pieces of software had been developed
to run on it. The only other computer to come close to this sales volume has
been the Commodore VIC-20. The Apple II and CP/M machines are the only other
computers to have so much software.

  The C64 Concept

Commodore had a number of different considerations when it designed the
Commodore 64 computer - these considerations determined the eventual shape
and success of the C64.

Commodore chose the C64's design features to make it as attractive as
possible to the home and school computer markets. It already had successful
computers in both of these markets - VIC-20s in homes and PETs in schools.
Commodore merely had to merge some of VIC's and PET's more successful
attributes in order to place the C64 in both markets. The Commodore 64 also
had to have an impressive assortment of new features to make it more
attractive to those same buyers. The C64, its peripherals, and its software
also had to be inexpensive. This meant that Commodore had to perform some
real hardware and software engineering feats if the finished C64 was to cost
less than its competition and perform better.

Here is a list of features that the Commodore 64 borrowed from the VIC-20
and PET:

6502 based architecture
Kernal operating system
BASIC version 2.0
Typewriter style keyboard
40 column text screen
PET graphics
Cassette interface
Serial BUS for disk drives and printers
User port for peripherals such as modems and voice synthesizers

Here is a list of features new to the C64:

Color graphics
Sprite graphics
Three voice eight-octave sound synthesizer
CP/M option
Redesigned cartridge slot
Direct high quality video and audio outputs
RF modulator
64K of RAM memory with advanced memory management
Two game controller ports for joysticks, light pens, etc.
New family of inexpensive peripherals - color monitor, disk drive, printers,
and modems

As you will see from these lists, Commodore packed the C64 with a collection
of important features. It introduced the C64 at $595 in 1982; by mid-1983
this price had dropped to $300, and by mid-1985 it had dropped to $150.

[4.2] What External Devices Do You Need to Use the C64 Mode?

At the very least, to use the C64 mode you will need a 40-column compatible
monitor or television. The kind of monitor you choose will mainly depend on
what you want to do while your Commodore 128is in its C64 mode. In this mode
you can select from the same list of accessories as would a Commodore 64
owner. You can even use new Commodore accessories, like the 1902 color
monitor and the 1571 and 1572 disk drives (designed specifically for the
C128 and described in Chapter 2), as they have C64 modes as well.

Naturally, what equipment you will want depends on the C64 software you will
use. If your interest in the C64 mode lies strictly in using C64 cartridge
game and educational software, then all you may need is a monitor or a
television set and maybe an external controller, like a joy stick or a set
of game paddles. If you want to use cassette-based C64 software then you
will need a Commodore Datasette. If you want to use more powerful disk-based
C64 software then you will have to have one or more disk drives. Whether or
not you will want other devices, like a printer or modem, will depend on the
needs of your C64 software. For example, if you plan to use your computer
for word processing then you will want a printer, but if you are only
interested in entertainment software like arcade games then you wouldn't.
You would want a modem if you planned to use your computer to access remote
computer systems like CompuServe or The Source.

As you can see there is no easy solution to the question of which external
devices you should connect to a Commodore 128 when it is used in the C64
mode. Three of the many possible system configurations are shown in Figure
4-2. The first example is really a minimum system designed for casual
programming and entertainment. In this system a television is used as a
monitor, a Datasette as the mass storage device and a single joystick is
used for an alternate input device. The second example illustrates how a C64
owner who already owned a full C64 system upgrades it by simply exchanging
the C64 for a C128. A Commodore 1702 is used as the monitor, a 1541 disk
drive is used for mass storage, and an MPS 801is used as the system's
printer. Finally, the last example is a C64 mode system using new C128
system components; 1571 disk drive, 1902 multi mode monitor, an MPS 802
printer and a model 1670 modem.

  Figure 4-2. Three Possible Configurations for C128 Systems in the C64 Mode
  [1. Commodore 128, Datasette, Television, Joystick
   2. Commodore 128, 1650 Modem, 1702 Monitor, 1541 Disk Drive
   3. Commodore 128, 1670 Modem, 1902 Multimode Monitor, 1571 Disk Drive]

Naturally, there are other system configurations than those just mentioned;
just remember to base your external equipment selection according to the
needs of your C64 software (consult the instructions provided with your C64
software for its hardware requirements). Then, if you are still not sure of
your total options concerning the different peripheral devices, refer back
to Chapter 2.

[4.3] How and When Do You Change to the C64 Mode?

You must first be in the C64 mode before you can load or run C64-specific
software. There are two ways to tell the Commodore 128 to change to its C64
mode. When the computer is in its C128 mode (normal start up) you can simply
command it to go to its C64 mode by typing "GO 64." The second way to change
to the C64 mode is to turn on the C128 with any Commodore 64-type software
cartridge plugged into the cartridge slot (the expansion bus). In either
case, once the C128 is switched to the C64 mode, there is no way to command
it to go back to its C128 mode (the C64 did not have a GO 128 command, so to
be truly compatible, neither can the C128 when used in its C64 mode). The
only way to return to the C128 mode is to turn the C128 off and on again.

[4.4] What Can You Do While in This Mode?

One of the main reasons for using the C64 mode is that so much high-quality
software already exists for the Commodore 64 computer; software which can be
used without modification in this mode. There are software programs for
business, home, and school applications. In this section we're going to look
at some of the different types of Commodore 64 software products. We'll
somewhat arbitrarily divide this world of software into five categories:
personal productivity, education, edutainment, entertainment, and software
development.

Please note it would be impossible for us to cover every piece of software
in these categories. To do so would require a book in itself (a very large
book). So rather than make this section a "buyer's guide to software," what
we want to do is give you a quick glimpse of the kinds of software that are
available, and perhaps refer to a few popular products in each category - or
to products with interesting or unusual features - as examples of what is
available. There are so many excellent C64 software products already
available, and new ones are being created all the time, so you should
conduct your own research before deciding what to buy.

We do not list the prices of the products referred to in this section, since
they change so fast over time and also because they vary from dealer to
dealer. In general, programs in the personal productivity and software
writing categories can be expected to cost from $50 up to about
$150, while games and other entertainment software will cost from $20 to $50, with
educational programs somewhere in between these ranges. These prices are often considerably
below comparable software products available on more expensive computers.

  Personal Productivity Software

By personal productivity software we mean those programs which help you
personally to accomplish various tasks better or more efficiently at home or
at work. Word processors, spreadsheets, databases, personal finance
packages, and telecommunication programs fall into this category.

   Word Processors

Word processing is probably the most popular serious use for personal
computers such as the Commodore 64 and Commodore 128. A word processing
program lets you type a document (which can be almost anything you'd write
on a typewriter - from memos to novels) on the screen of your computer. Your
screen provides a window into a much longer document. You can modify this
document as much as you like, by inserting or deleting words or sentences,
until it is just the way you like it. At this point you can print it out on
a printer.

Word processors typically have commands to insert and delete individual
letters, words, sentences, and paragraphs, to write a document to the disk,
to read a document already stored on the disk into the computer, to set
margins and tabs, to automatically number each page, and to print a document
on the printer. Most word processing programs have a multitude of other
features as well. With many programs you can search for specific words or
phrases in your document (in case you decide to change every occurrence of
"Jane" to "Mary", for example), underline words or phrases, and format the
printed output in a variety of ways.

Most word processors use some form of automatic word wrap. This means that
when you get to the end of a line, the program automatically breaks the line
at the end of a word, and moves the word you're typing down to the next
line, so you can keep typing without having to press <Return> or any other
key.

A useful feature available on many word processing programs is the ability
to merge parts of one document into another. This is typically used in form
letters, where one document consists of a list of names and addresses, and
another document consists of a letter which is to be sent to everyone on the
list. A variety of forms can be handled in the same way.

There are a number of very good word processing programs available for the
Commodore 64. Bank Street Writer is renowned for its ease of operation: it
is a favorite of school-age children and adults who rarely use a
wordprocessor enough to get familiar with all the operations typical of
larger full-featured word processors. Speedscript, a program available
through COMPUTE! Publications, Inc., has more features, but not at the
expense of its ease of operation. Speedscript is also an excellent choice
for casual word processing, especially if you consider its cost - basically
the price of a single magazine. If your word processing needs require more
features than either of these two programs offer then you have a wide list
of professionally competitive products to choose from. Easy Script from
Commodore and WordPro 3 Plus/64 are two typical examples. Let's get a better
look at what you get with one of these more elaborate and more expensive
word processors.

WordPro 3 Plus/64, from Professional Software, has 23 format commands and 47
control functions which basically equate to a large number of word
processing operations. In addition to the word processing functions
available in smaller programs such as Speedscript, WordPro can perform such
tasks as printing sub- and super-scripted text, adding and subtracting
columns of numbers in your text, and using boldface type. WordPro also has
its own spell checking dictionary - a very nice feature typical of these
better word processor programs. WordPro is a complicated software package,
but like most quality software products it comes with a very well written
and complete users manual. There are also sample documents available on the
disk to help you get started.

   Spreadsheet Programs

The very first spreadsheet program, VisiCalc, was instrumental in
establishing the personal computer as a serious business tool. The existence
of this program sold millions of computers to American businesses, and
changed the way people thought about personal computers. This same
capability is available on the Commodore 64.

What is a spreadsheet program? Essentially, it's an electronic equivalent of
an accountant's spreadsheet: a piece of paper with rows down the side and
columns across the top, but electronic spreadsheets automatically perform
whatever calculations are needed. Spreadsheets are used for a variety of
purposes. For instance, you might use a spreadsheet to show different years
in the columns across the top, and sales figures for different items in the
rows listed down the side. At the bottom of each column you might show
totals for all items sold for each year. On the right you might show the
percent of increase or decrease in the sales of particular items, over the
number of years shown across the top. Once you have designed a spreadsheet
template you can use it over and over again just as it is, or modify it to
fit future needs.

Microsoft MultiPlan is one of many spreadsheet programs available for the
Commodore 64. It is attractive to many C64 owners because it is also
available on computers like the IBM PC and the Apple Macintosh. The version
for the Commodore 64 retains many of the same features. Multiplan comes with
a large, well written manual, a nice feature if you're new to spreadsheets.

Calc Result from Handic Software is a somewhat less ambitious program. It's
easy to learn and offers a number of advanced features. It comes in two
versions. Calc Result Easy gives you a capacity of 1000 cells, while Calc
Result Advanced gives you 2000 cells and a number of extra features. Both
versions are equally easy to learn and use.

PractiCalc from Computer Software Associates is a smaller and simpler
spreadsheet program which has the advantage of being such a small program
that it leaves a great deal of room in memory for storage of the actual
spreadsheet. It's also one of the least expensive spreadsheet programs
around, which makes it a good way to get started in spreadsheets if you're
on a limited budget.

   Database Programs

Database programs, like The Manager from Commodore, find a wide assortment
of uses with C64 owners. Basically a database is like an electronic filing
cabinet that you fill with reports you design. These reports can hold the
particulars of daily sales reports, a stamp collection, favorite recipes,
abstracts from books and magazines, or mailing lists of all your family,
friends, or clients. Once the records are in the database you can use the
speed of your computer to sort them, search them, or even update them. In
some ways databases are like spreadsheets in that they require some initial
setup work by you. After all, you have to design the electronic report forms
for the database before you can use it. Fortunately, programs like the
Manager come with a few sample report templates and easy-to-understand
instructions.

   Personal Finance

As the Commodore 64 was primarily aimed at the home computer market, it is
no surprise that there are a number of software packages that deal expressly
with personal financial matters. The Personal Accountant and the Home
Accountant, from Continental Software, are two such programs. Both of these
programs let you do such things as balance your checkbook, print checks,
establish budget accounts, and keep a record of your financial status.
Tables and easy-to-understand graphic displays are used to show rates of
change or comparisons. It is even possible to take the financial data
eventually stored by these programs and pass it to a tax preparation program
at the end of the year.

   Telecommunication Programs

Hundreds of thousands of Commodore 64 owners use their C64s to communicate
with other computers and they do this with the aid of modems and modem
software. Telecommunication programs, as they are commonly called, come in a
variety of flavors, but underneath they are quite similar in what they do
for you. Their primary function is to teach your computer how to send and
receive data from a modem (the modem provides your C64's physical connection
to the telephone line).

The simplest telecommunication programs are those that transform the C64
into a "dumb terminal." Dumb terminals have just two functions - one is to
provide a keyboard that you use to send data to the modem and the other is
to display for you the data received by the modem. You can't use a dumb
terminal to store incoming messages or to edit and arrange your messages
before sending them out, so their applications are basically limited to
casual telecommunications. This kind of C64 telecommunications software is
typical of what you get as free bonus software when you buy a modem like the
1660 or 1670 from Commodore.

If your telecommunication needs are more demanding, then you might want a
program like Super Term from Midwest Micro, Inc., or Smart 64 Terminal Plus
3 from Micro Technics Solutions Corp., as they can provide you with better
telecommunication capabilities. For instance, both of these programs let you
use the C64's mass storage capabilities to save incoming data or to hold
data that you want to send. They also let you dump incoming data to a
printer. Other features supported by programs like these might include
auto-dialing, and binary file transfers with special protocols that insure
the integrity of file transfers. Overall, these kinds of telecommunication
programs are the most flexible, but they are often difficult to learn and
use.

If your telecommunication needs are limited to using CompuServe then you
would want to use VIDTEX software. This special program will do everything
the other general purpose programs can do with one important enhancement -
VIDTEX provides a universal operating interface between CompuServe and you.
This interface has one purpose and that is to ease the burden of
telecommunicating to CompuServe and it does this in a number of important
ways. For example, with VIDTEX your C64 automatically understands the
special screen codes that CompuServe sends out to clear screens and move
cursors. This makes your screens appear cleaner and easier to read. These
screen codes will also let CompuServe send more information in less time,
thereby saving you money. VIDTEX also has automatic features that make it
easier for you to send and receive ASCII and binary files. VIDTEX has many
other automatic features designed to simplify a number of CompuServe
activities.

  Education

Probably the second largest category of software for the Commodore 64 after
games and entertainment is educational software. Within this category you
will find a number of smaller categories such as preschool, ages 5-9, ages
9-13, ages 13-17, and adult. The subjects of these programs range from basic
language skills (such as nouns, verbs, adverbs, and adjectives) to subjects
such as geography, science, chemistry, and mathematics.

Over a hundred general education programs are already in the public domain
and can be obtained free of charge from most larger Commodore user groups or
Commodore computer dealers. Hundreds more of these programs can be obtained
from listings in Commodore oriented magazines like RUN, COMPUTE!'s Gazette,
Commodore Power Play, and Commodore Microcomputers. There are even a number
of different books filled with Commodore 64 educational software. High
quality educational software is also available commercially. For example,
Davidson & Associates markets SPELL IT!, MATH BLASTER!, WORD ATTACK! and
SPEED READER!, all excellent packages. Educational programs for the C64
extend to the college level with programs like THE PERFECT SCORE from
Mindscape, a program specifically designed to prepare you for college SAT
exams. There are even C64 educational programs for personal self improvement
like Timeworks' Evelyn Wood Speed Reading, which you can use to improve your
reading comprehension, retention and speed.

  Edutainment

Edutainment is a newly coined phrase that describes a whole new category! of
Commodore 64 software. Edutainment programs are specially designed to teach
a specific subject and in a fun way - education and entertainment. Many
programs fit so well into this format that it is often difficult for people
using the program to realize that they are actually in a controlled learning
environment - they are simply having too much fun Edutainment programs are
available for virtually all age groups. One excellent Edutainment program
for preschoolers is Learning With Leeper from Sierra On Line. Leeper teaches
basic skills like hand-eye coordination; letter, number, and object
identification; counting; problem solving; and artistic expression. For the
teenager, try Type Attack by Serious Soft & ware. This unusual program
teaches touch typing in the guise of a fast-paced arcade game! A new entry
to C64 Edutainment is Trivia Fever by PSI. This engaging package offers
thousands of challenging trivia questions from seven categories with three
levels of play. Up to eight people can play it. Edutainment doesn't stop
here as there are educational games; designed to teach a number of diverse
skills, such as word processing, programming, and spreadsheet management.

  Entertainment

Entertainment is the largest category of available Commodore 64 software. In
fact, somewhere between 60 and 70 percent of all Commodore 64 software is
entertainment oriented. This very large base of software can be divided into
a number of categories. Arcade games make up the largest group of
entertainment programs and adventure games make up a significantly smaller
group; some games fit into a simulations category, and others fit into an
area called art and music recreation. Programs from these different
entertainment subcategories can be obtained from a wide assortment of
sources. Of course a large number of them are commercially prepared and
marketed programs, but hundreds more are available through magazines, books,
and local Commodore user groups. We can't possibly describe or list all of
these highly entertaining software products here, but we can give you a
brief idea of what it is like to use some of them.

   Arcade Games

Arcade games - such as Pitstop II, Beach Head, and Impossible Mission  - are
designed to stimulate your sense of sight, hearing, and touch in an exciting
and captivating way. Pitstop II, for example, puts you in the driver's seat
of a powerful race car which you take to various international car racing
circuits. In this game you are the driver looking out the race car's
windscreen as you speed along the winding, twisting tracks. Beach Head is a
war game in which you have a number of objectives to accomplish - such as
surviving a kamikaze attack - before you land your forces on the enemy's
highly fortified beach and try to take it. Impossible Mission pits you
against an evil scientist in his underground labyrinth of tunnels and rooms.
Your objective is to survive his evil robots and numerous other traps, and
at the same time to gather enough hidden clues so that you will know how to
turn off his doomsday device.

Arcade games are typically very fast paced and methodical in their approach.
For example, all of their activities will be focused on some scenario laced
with a heightening pattern of obstacles and rewards. Competition is also a
key element in their design. Performance scores, based on elapsed time and
goals completed, are used to show comparisons and progress. You may be
competing against what you did the day before or directly against other
players. Arcade games are eye-, ear-, hand-, and mind-oriented, therefore
they provide an excellent exercise for improving manual coordination and
concentration.

   Adventure Games

The very nature of adventure games makes them totally different from arcade
games in they way they look, act, and play. Unlike the repetitive, quickly
learned, and often-repeated events of arcade games, adventure games work to
continually stimulate your curiosity and imagination. They challenge your
ability to solve an ever widening assortment of riddle-like problems.
Adventure games are not fast-paced or sense-stimulating. They are mind games
designed to test your thinking and reasoning faculties in ways that
arcade-style games simply don't. Adventure games require a great deal of
concentration and a sizable investment of time.

The game scenario is the most important ingredient of a good adventure game.
On the surface it must be easy to understand, but underneath it must have a
highly complex inner structure filled with a wide range of event
probabilities. What happens during the game depends a lot on what you do
(you control the actual threading of events). There are adventure games like
Zork I, Zork II, and Zork III that take you into the completely imaginative
world of science-fantasy where you battle ghastly creatures and seek vast
treasures. There are other adventures that throw you deep into the world of
science fiction where you must learn how to survive in the deep reaches of
space (Suspended). There are two adventures based on Agatha Christie-like
stories that bring out the real sleuth in you (Dead line and Eye Witness).
The Zork series, Suspended, Eye Witness, and Deadline are all products of
Infocom.

   Simulations

Another category of entertainment games is that called simulations. These
programs combine all the computing, graphics, and sound power of the
Commodore 64 to create a true-to-life simulation of a complex,
mind-coordinated, motor-reflex, real-life activity - such as flying an
airplane. We are not referring to the typical arcade game where you control
a little biplane and make it climb, dive, turn, and land with simple motions
of the computer's joystick, but to a real-life flight simulator where you
are in the cockpit surrounded by realistic-looking and completely functional
instruments. In front of you and to your sides you see the sky and land
around you change as your plane moves, and this view changes in correct
response to your handling of the plane's throttle, ailerons, flaps, and
rudder. There is only one way to win at this type of game and that is to
gain a lot of the same knowledge and skills actually needed to fly a real
plane.

There are a number of simulation games available for the Commodore 64.
Flight Simulator, from subLOGIC Corporation, and Solo Flight, from
MicroProse Software, are two simulators that put you at the controls of your
own airplane. Subwar 64, by Clockwork Computers, Inc., takes the art of
simulation into the conning tower of a submarine. In this simulation you are
given the choice of a number of different roles. For example, you can be an
observer along for the ride, or a Ship Control Trainee, or a dive control
officer, or even an attack center officer. Each role you assume has its own
set of unique responsibilities.

   Art and Music Recreation

The last area of entertainment programs for the Commodore 64 contains
programs designed as noncompetitive recreational activities. These programs
let you use the Commodore 64 as an extension of your own creative talents.
You can paint people or landscapes with programs like Koalapad, create and
animate your own computer graphics with Sprite Maker, listen to computer
generated music, play music, or even compose music of your very own with
programs like MusiCalc and the Kawasaki Synthesizer. Of course, these are
just a few examples of the dozens of art and music programs available for
the C64. If your personal needs are for more relaxing forms of
entertainment, then you will definitely want to try a number of these
unusual programs.

  Software Development

There are a number of Commodore 64 programs that help you develop, write,
and test your own C64 programs. Some work right alongside BASIC 2.0 while
others totally replace BASIC with an entirely new programming language. Many
of these programs are complete software development systems; others are
utilities designed to perform a single, but necessary, program development
function; some are used as add-on enhancements to existing development
systems; and a few are primarily aids that reduce some of the tedium
normally associated with programming.

   Development Systems

If you want an alternative to BASIC 2.0, there are a number of different
software development systems that you can choose from. For those who need to
write extremely fast programs that are compact in size, there are a number
of different assembler development systems to choose from. For example,
Commodore has its own Assembler 64 package. This package includes a full
macro assembler, editor, loader, and two machine language monitors. If you
want to retain many of the advantages of assembly language programming, but
also have some of the benefits unique to an interpretive language then you
might want to use a Forth development system such as SuperForth 64 from
Parsec Research. This Forth implementation includes a full floating-point
math package and it has the ability to create stand-alone applications
(programs you can run without Forth). However, if you don't mind sacrificing
program speed and some programming flexibility for an easier-to-use and
-understand program structure then you might want to try a more structured
compiler-based language such as C, Pascal, or Fortran. Excellent
implementations of these languages are available from Abacus Software. You
may choose Logo or Pilot as your software development tools. Both of these
excellent interpretive languages are available from Commodore for the C64.

   Programming Utilities

There are a number of Commodore 64 utility programs designed to help you
with certain aspects of program writing. For example, there are special
screen editors like Screen-Graphics-64 from Abacus Software that let you use
the C128's screen as a visual scratchpad to create your program's text and
graphic displays. There are font editors, like Ultra Font + from COMPUTE!
Publications, Inc., that allow you to redefine some or all of the standard
character and graphics sets. There are sprite editors that you can use to
create, test (animate), and then store your sprite definitions in a form
usable by your programs. There are even machine language monitors, such as
the one available in the C128 mode, that you can use to write your own
smaller machine language programs or create short and fast routines usable
from a BASIC program. Micromon and Supermon are two excellent machine
language monitors that are in the public domain so they are free (a version
of Micromon was published in COMPUTE!'s First Book of the Commodore 64).

   BASIC Enhancement Programs

BASIC enhancers make up another category of programming oriented programs
for the Commodore 64. The purpose of many of these programs is to enhance
BASIC 2.0 by increasing its overall power and flexibility. This is done by
adding new features such as sprite, graphics, and sound commands and
improving the operation of older commands such as those of BASIC 2.0's
complicated DOS. You have a number of different BASIC enhancement packages
that you can use with the C64. Skyles Electric Works has a cartridge called
VIC Tree that adds over 40 new commands to BASIC 2.0 - including improved
DOS commands and programming assistance commands such as AUTO, RENUMBER and
TRACE. Simon's BASIC from Commodore, with all its graphics, sound, and
structured programming commands, offers even greater enhancements to BASIC
2.0's operations. If you are just interested in adding graphics and sound
commands similar to those found in BASIC 7.0 then you can get Commodore's
Super Expander cartridge.

BASIC compilers are another type of enhancement program. Compilers, like
BLITZ! from Skyles Electric Works or BASIC Compiler 64 from Abacus Software,
are used to perform a one time translation of a BASIC program into a much
faster program format. Compiled BASIC programs, although physically large in
comparison, often run as fast as similar programs written in Pascal, Pilot
or Logo.

   Programming Aids

The final category of programming-oriented Commodore 64 software includes
those programs especially designed to ease some of the burden normally
associated with BASIC and 6502 assembly language programming. These programs
don't actually enhance or change the finished programs in any way, but they
do make them easier to write.

Two very popular C64 programs, COMPUTE!'s Automatic Proofreader for BASIC
programs and COMPUTE!'s MLX for machine language programs, were specifically
designed to help C64 owners enter programs found in COMPUTE! Publication's
magazines and books. With these two programming aids it is possible for C64
users to obtain hundreds of guaranteed-to-work BASIC and machine language
programs, even if they know nothing about the languages themselves.
Programming aids similar to these are also available from other Commodore
marketed magazine publishers.

Another programming aid, also available from COMPUTE! Publications, is
MetaBASIC. This program performs functions similar to many found in full
BASIC enhancement packages, but unlike those programs, MetaBASIC does not
add any operations to the programmable portion of BASIC. Therefore, programs
written using MetaBASIC run without it. What MetaBASIC does is add important
immediate mode commands like AUTO, RENUM, TRACE, DUMP, CAT, ERR, DELETE,
MERGE, and LLIST - commands that really simplify BASIC 2.0 programming.

[4.5] What Can't You Do While in the C64 Mode?

Chapter 3 described many Commodore 128 features, primarily those classified
as enhancements to the standard features found in the Commodore 64. When the
C128 is used in its C64 mode those enhancements are gone. To begin with,
only 64K of the computer's RAM can be used, because that's all the RAM the
C64 knows how to use (the remaining 64K of RAM is disabled). Any externally
added RAM - for example, a RAM disk - would be equally unknown and therefore
unusable. ROM memory areas are also swapped around when the computer enters
the C64 mode. When this happens the C128 operating system, with its built-in
machine language monitor and improved screen editor, is replaced by the
operating system used in the C64 (no monitor and a less flexible screen
editor). Switching modes also changes other less obvious memory and device
configurations which, among other things, alters the C128's I/O capability.
For example, the C128 can no longer access the 14-key numeric keypad, or any
of the other C128-only keys. The changed I/O also eliminates the C128's
80-column screen mode option. Lastly, subtle but important changes in both
the C128's I/O circuits and internal operating system prevent the C128 from
utilizing the advanced storage and speed capabilities of the newer 1571 and
1572 disk drives.

[4.6] How Does BASIC Differ in the C64 Mode?

One of the consequences of commanding the Commodore 128 into its C64 mode is
that BASIC 7.0 is replaced with BASIC 2.0, which is the same exact BASIC
furnished with the Commodore 64. Therefore the C128 can no longer understand
any of the new BASIC commands, statements, and functions that are found only
in BASIC 7.0. What you have left are those commands and functions listed in
Table 4-1.

  Table 4-1. BASIC 2.0 Command and Function Summary
          Assign-  String     Numeric    Other      Input/  Program
  System  ments    Functions  Functions  Functions  Output  Flow
  NEW     LET      ASC        ABS        FRE        GET     GOTO
  CLR     DIM      CHR$       ATN        POS        GET#    ON...GOTO
  CMD     DEF FN   LEFT$      COS        SPC        INPUT   GOSUB
  LOAD    DATA     LEN        EXP        TAB        INPUT#  ON...GOSUB
  SAVE    READ     MID$       FNxx       DEF FN     PRINT   RETURN
  VERIFY  RESTORE  RIGHT$     INT        PEEK       PRINT#  FOR...NEXT...STEP
  OPEN    POKE     STR$       LOG                   WAIT    IF...THEN
  CLOSE	           VAL        PEEK                          SYS
  RUN              RND        USR
  STOP             SGN
  CONT             SIN
  END              SQR
  LIST             TAN
  REM

  BASIC 2.0 and BASIC 7.0 Compatibility

As you probably noted from Table 4-1, BASIC 2.0 does not have specific
graphics, sprite, and sound operations, nor does it have any statements like
PRINT USING, or AUTO, or WHILE...DO. In fact there are a large number of
operations available in BASIC 7.0 that you no longer have access to when the
C128 is in its C64 mode. If you are thinking about writing BASIC programs in
this mode, or just modifying an existing C64 BASIC program, then you should
familiarize yourself with the differences between these two BASICs. Programs
can be written in such a way as to make them compatible with both modes and
both BASICs, but you will need to know both BASICs. Fortunately, as you may
recall, BASIC 2.0 (C64 mode) is a subset of BASIC 7.0 (C128 mode). We did a
complete comparison between these two BASICs in Chapter 3.

[4.7] About C64 Mode DOS

The last noticeable change in the way the Commodore 128 operates in its
normal C128 mode and the way it operates in its C64 mode is the DOS command
structure. First of all the new BASIC 7.0 DOS commands are no longer,usable.
The same disk operations can be performed, but to do so you have to
familiarize yourself with the DOS command structure used in the Commodore
64.

  Different Commands

Single word commands like HEADER, CATALOG, RENAME, and SCRATCH are now
replaced with short direct mode BASIC 2.0 statements. For example, in order
to format a new disk you first open a command file channel to the disk drive
with a command such as this:

        OPEN1,8,15

Then you use a second BASIC 2.0 statement to actually send the DOS command
down that channel:

        PRINT#1,"NEW:<disk name>,<id>"

At this point you could send more DOS commands without having to reopen the
disk command channel. A list of the different 2.0 DOS commands with their
meanings is shown in Table 4-2. After you have sent your last DOS command
you should close the command channel like this:

        CLOSE1

  Table 4-2. Examples of DOS Commands under BASIC 2.0
  -----------------------------------------------------------------------------
    BASIC 2.0 Command String                       DOS Meaning
  -----------------------------------------------------------------------------
  "NEW:<disk name>,<id>"          Formats a new diskette
  "SCRATCH:<filename>"            Erases a file 
  "RENAME:<newname>=<oldname>"    Renames a file 
  "COPY:<destination>=<source>"   Copies a file 
  "VALIDATE"                      Collects all unused disk space 
  "INITIALIZE"                    Initializes a new disk allocation table (BAM)
  -----------------------------------------------------------------------------

Similarly formatted statements can be used to send most DOS commands.
However, there are two other BASIC 2.0 DOS-related operations that are even
more cryptic in their nature: reading a disk directory and reading the disk
drive error channel.

In BASIC 2.0, a disk's directory must be loaded into memory as if it were a
BASIC program file. Once loaded, it must then be LISTed from BASIC in order
for its contents to be viewed. Here is the command syntax used to read an
entire disk directory:

        LOAD"$",8
        LIST

Since BASIC is treating the disk directory as a program file, the directory
gets placed right into BASIC memory and any program already there is
replaced. Thus you can't check a disk's directory just before saving a
program to see if the filename you want to use is already there. This is
often inconvenient and sometimes disastrous. Just viewing a directory can be
equally troublesome, especially if it is rather long, as there is no way to
easily display just one screenful of directory information at a time.

Should something go wrong and the disk drive is not able to fulfill a DOS
request, read the disk drive's error channel to find out the exact nature of
the mistake. For example, you may have accidentally put an unformatted
diskette in the drive or you may have tried to save a file using an existing
file name. These are typical "operator errors." Of course, the error channel
will also report more serious problems like a read error at a particular
track and sector location due to a faulty diskette. Unfortunately, the
Commodore 128 does not automatically display disk error messages or even
check to see if an error occurred. It must instead be told to report the
disk drive status by having it check the error channel. This manual error
checking applies to both C128 and C64 modes, but the methods used to get the
disk status are completely different. In BASIC 7.0, all you have to do to
check for a disk error condition is type:

        ?DS$

This operation is far more difficult to perform using BASIC 2.0. Here is
what you would have to do:

        100 OPEN1,8,15
        110 INPUT#1,ER,ER$,T,S
        120 PRINT ER;" ";ER$;" ";T;" ";S
        130 CLOSE1
        RUN

As you can see, you have to write a small program just to get the disk
drive's error status.

  Table 4-3. Comparisons Between Different C128 DOS Operations
  --------------------------------------------------------------------------
        DOS Wedge              BASIC 2.0                  BASIC 7.0
  --------------------------------------------------------------------------
     @$                LOAD"$":LIST                 DIRECTORY
     /<filename>       LOAD"<filename>",8           DLOAD"<filename>"              
     %<filename>       LOAD"<filename>",8,1         BLOAD"<filename>" 
     <-<filename>      SAVE"<filename>",8           DSAVE"<filename>" 
     @:<diskname>,id   PRINT#1,"N:<diskname,id>"    HEADER"<diskname>,id"
     @S:<filename>     PRINT#1,"S:<filename>"       SCRATCH"<filename>" 
     @V                PRINT#1,"V"                  COLLECT 
     @                 100 OPEN1,8,15               ?DS$
                       110 INPUT#1,ER,ER$,T,S
                       120 PRINT ER;ER$;T;S
                       130 CLOSE1

  --------------------------------------------------------------------------

  Improving 2.0 DOS

The purpose of these last examples was to give you an appreciation that
sometimes BASIC 2.0 DOS operations can be difficult. Don't be dismayed,
however. If you must do DOS operations while in the C64 mode you won't be
able to use BASIC 7.0, but you will be able to use the C64 DOS Wedge just
like two million other Commodore 64 users.

The C64 DOS Wedge is a short utility program that Commodore developed to
take some of the pain out of BASIC 2.0 DOS operations. Once this program is
loaded into a normally unused part of the C64's memory, many BASIC 2.0/Wedge
DOS operations are easier to remember and require less typing than their
equivalent BASIC 7.0 statements. The C64 DOS Wedge is supplied free of
charge with every 1541 disk drive. A number of different books and magazines
have detailed the wedge's operations, including COMPUTE!'s First Book of the
Commodore 64. Table 4 3 will give you a quick look at some Wedge
comparisons.

Complete details on DOS operations in the C64 mode can be found in the
documentation provided with your disk drive and in The Commodore 128 System
Guide.

