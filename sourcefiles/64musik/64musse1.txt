*********

Welcome to International Project 64!

The goal of International Project 64 is to preserve non-English Commodore
64 related documents in electronic text format that might otherwise
cease to exist with the rapid advancement of computer technology and
declining interest in 8-bit computers on the part of the general
population. If you would like to help by converting C64 related
hardcopy documents to electronic texts please contact the manager of
International Project 64, Peter Krefting, at peter@softwolves.pp.se.

Extensive efforts were made to preserve the contents of the original
document.  However, certain portions, such as diagrams, program
listings, and indexes may have been either altered or sacrificed due
to the limitations of plain vanilla text.  Diagrams may have been
eliminated where ASCII-art was not feasible.  Program listings may be
missing display codes where substitutions were not possible.  Tables
of contents and indexes may have been changed from page number
references to section number references. Please accept our apologies
for these limitations, alterations, and possible omissions.

Document names are limited to the 8.3 file convention of DOS. The
first characters of the file name are an abbreviation of the original
document name and the language of the etext. The version number of the
etext follows next. After that a letter may appear to indicate the
particular source of the document. Finally, the document is given a
.TXT extension.

The author(s) of the original document and members of International
Project 64 make no representations about the accuracy or suitability
of this material for any purpose.  This etext is provided "as-is".
Please refer to the warantee of the original document, if any, that
may included in this etext.  No other warantees, express or implied,
are made to you as to the etext or any medium it may be on.  Neither
the author(s) nor the members of International Project 64 will assume
liability for damages either from the direct or indirect use of this
etext or from the distribution of or modification to this etext.
Therefore if you read this document or use the information herein you
do so at your own risk.

*********

The International Project 64 etext of the 64Musik manual, converted to
text by Peter Krefting <peter@softwolves.pp.se>

64MUSSE1.TXT, May 1997, etext #6.

Note from the etexter (in Swedish):

Jag patchade min kopia av 64Musik lite, och när jag skrev av manualen är
det möjligt att jag skrev om några av mina extra finesser. Jag har inte
kvar manualen, så jag kan tyvärr inte kolla det (jag vet inte om jag har
min patchade version kvar heller, så det är ingen idé att fråga efter
den).

64MUSIK är Copyright © 1984 Grana Software. Programmets upphovsman är
Birger Gran.

*********
MANUAL 64MUSIK


SÄTT MUSIK TILL DINA BASIC-PROGRAM!

Commodore 64 har en erkänt avancerad men svårtillgänglig ljudkapacitet.
Tyvärr medför detta att alltför många program görs onödigt tråkiga, tysta
och sterila.

Detta program ger en lösning på problemet, för dig som vill använda tiden
till annat än att tränga alltför djupt in i hur 64:ans ljudchip fungerar.
Programmet hjälper dig att:

1) SKAPA och PRÖVA FRAM den musik- eller ljudillustration du vill ha, och
2) SPARA din produkt (inkl. den maskinkodsrutin som spelar!) till diskett,
så att du sedan kan
3) LÄGGA IN musiken (eller ljudet) i andra program.

Ytterligare finesser är:

4) rutinen som spelar liksom de data som definerar din musik, ligger i
minnet från 49152 (hex $C000) där de INTE STÖRS AV ELLER TAR UTRYMME FRÅN
BASIC-programmen, och
5) musiken SPELAS MED EN INTERRUPT-RUTIN, vilket betyder att det vanliga
programmet körs vidare utan avbrott.

LADDA PROGRAMMET

Ladda in med LOAD"64MUSIK",8 och kör RUN. När programmet startas upp tar
det en stund för inläsning av datasatser och inladdning av maskinkod. När
menyn sedan visas, kan du sätta igång och skapa din musik på en gång.

MENYVAL:

F1 - SKRIVA IN TONER MED NOTNAMN

När du börjar skriva in toner till ett nytt stycke, får du ange namn på
ditt opus. Maximalt ca. 750 toner för vardera stämman, med tillhörande
tonlängd, kan skrivas in. Tonerna skrivs med notnamn och oktav, t.ex C3
eller F#4, För halvtoner använder du enbart #, d.v.s ett Ess (Eb) skrivs
som Diss (D#), vilket ju är samma sak.

Tonlängden anges som del av helnot, d.v.s helnot=1, halvnot=2,
fjärdedelsnot=4, åttondelsnot=8 och sextondelsnot=16. För punkterade noter
gäller lite speciella tal:
Punkterad halvnot=1.33
Punkterad fjärdedelsnot=2.67
Punkterad åttondelsnot=5.33

(Om du vill räkna ut själv kan du göra så här: ta de båda noter som skall
bli en (ex: 1/4 och 1/16) lägg ihop dessa tal (1/4+1/16=5/16= 0.3125) Ta nu
och ta 1 delat på detta tal (1/0.3125=3.2), och du har det tal du skall
skriva in.)

En paus lägger du in med ett P i respektive stämma, och pausens längd
framgår av efterföljande "notlängd". När du matat in klart, eller vill göra
ett avbrott för att lyssna, mata in * på stämma 1.

Du får hela tiden se de fem sist inmatade tonerna i ett "fönster" på
skärmen. Datorn kontrollerar att du matar in giltiga notkoder (däremot
kontrolleras inte kvaliteten på musiken...). Skulle du skriva fel ton, så
kan du gå över direkt till rutinen "visa-ändra-radera" (se F2 nedan) genom
att mata in ett V på stämma 1.

F2 - VISA - ÄNDRA - RADERA

De dem sist inmatade tonerna visas i ett "fönster" på skärmen, och du kan
scrolla innehållet i fönstret upp eller ned, genom att använda
markörförflyttningstangenterna, CRSR upp/ned (med resp. utan
shift-tangent).

Har du ett långt musikstycke, och vill se en viss ton eller sekvens, utan
att scrolla hela vägen, kan du trycka V (valfritt) och sedan ange det
nummer på tonen du vill se. Från denna nya "position" i stycket kan du
sedan scrolla fram och tillbaka.

Vill du ändra någon ton måste den först visas i "fönstret", -en
säkerhetsspärr för att förhindra att du av misstag ändrar "fel" ton. När
rätt avsnitt visas, tryck K (korrigera). Då får du ange nr på tonen som ska
ändras. Matar du in ett N (namn) så får du ge ett nytt namn åt ditt stycke.

Om du istället väljer R (radera), så kan du radera S (sista tonen) eller A
(allt).

Från rutinen F2, kommer du direkt till fortsatt inmatning (F1) om du
trycker I.

Ytterligare en finess under "visa..." är möjligheten att spela
kontinuerligt (se F4), och därefter välja F2. Då scrollar dina notkoder
uppåt i fönstret allteftersom spelandet fortgår. Tryck på S (stopp) när du
vill stanna spelandet (och scrollandet), -t.ex om du hittar ett fel som du
vill ändra.

F3 - SPELA EN GÅNG

Du får höra stycket du skrivit en gång.

F4 - SPELA KONTINUERLIGT

Ditt stycke spelas gång på gång, tills du avbryter med ett tryck på S
(stopp), eller om du stoppar programmet med STOP+RESTORE.

Du kan under tiden ditt stycke spelas gång på gång välja andra punkter från
menyn. Ovannämnda visning av notkoderna är intressant, samt möjlighetaen
att spela under tiden som ADSRvärden, vågform, tempo osv. ändras.

F5 - ÄNDRA TONHÖJD

Du kan ändra en hel oktav eller mindre. Välj ett värde mellan 1 och 2. (2
motsvarar en hel oktav, 1.1 ungefär ett tonsteg). Därefter får du ange H
för höjning eller S för sänkning av tonläge. Du kan upprepa dessa val så
länge datorns kapacitet räcker (från C i oktav 0 till H i oktav 7). Du bör
ha hela musikstycket inmatat innan du transponerar (ändrar tonhöjd), då det
annars kan vara knepigt att hitta "rätt" tonläge vid fortsatt inmatning.

F6 - ÄNDRA TEMPO

Välj ett värde mellan 0.5 och 1 så ökar tempot (0.5=dubbelt så snabbt,
1=oförändrat). Väljer du mellan 1 och 2 så minskas tempot (2=hälften så
snabbt). Liksom under F5 bör du ha matat in stycket klart innan du
laborerar alltför friskt med tempoändringar.

F7 - ÄNDRA TONKARAKTÄR

Du kan välja olika vågform för de två stämmorna, och du kan välja mellan
triangel-, sågtand-, puls- eller brusvåg. Du matar fram olika vågformer med
upprepande tryck på F1 för stämma 1 och på F3 för stämma 2. För pulsvåg
finns ett värde på pulsbredden inlagt i programmet, men du kan välja värden
mellan 0 och 4096 om du trycker på P. Du kan skriva in nya värden för
pulsbredd på vardera stämman. Tryck på RETURN ensamt så bibehåller du det
gamla värdet.

Tryck på + respektive - -tangenterna så ökar resp. minskar (det tysta)
intervallet mellan varje ton mellan 0 och 8. (Normalvärdet är 4 när
programmet startas upp). Större intervall (tillsammans med ökat tempo) ger
staccato, mindre intervall (+ långsammare tempo) ger legato.

ADSR betyder attack, decay, sustain och release (anslagstid,
avklingningstid, hållningsnivå och släppningstid). Läs mer om detta i
User's Manual, Användarhandboken, Programmers reference guide eller någon
musikhandbok. Vart och ett av dessa ligger mellan 0 och 15. För A, D och R
gäller att lågt värde ger kort tid, och högt värde ger lång tid. För S
(sustain) anger värdet tonens "hållnivå": 0-15 15-delar av max-volymen.

ADSR-värdena kan du öka med ett tryck på F7 resp. minska med tryck på F5.
Den lilla pilen på skärmbilden markerar vilket aktuellt värde som påverkas,
och du flyttar enkelt mellan de olika alternativen med CRSR-tangenterna.

Tryck på RETURN för att återgå till huvudmenyn.

F8 - DATAFIL

När du är nöjd med ditt arbete sparar du det på disk med F8. Vid denna
rutin kan du även hämta tidigare sparade filer för fortsatt bearbetning
eller lyssning. Du kan även byta filens namn.

Välj S (spara) eller L (ladda). Välj sedan P för programfil eller F för
datafil. Detta sista kan fordra en särskild förklaring:

PROGRAM innebär att musiktonernas värden och maskinkodsrutinen som selar
sparas som ett helt program som kan laddas in separat till ett program
(eller tillbaka till 64MUSIK). Laddar du in det separat eller till andra
program, se nedanstående beskrivning.

Du måste alltså bestämma dig för hur du sedan vill använda ditt stycke. Ett
tips är att alltid spara som datafil så länge du inte är helt klar med hur
det ska användas, du kan ju visserligen ta in även en programfil till
64MUSIK, men då missar du not-koden, vilket försvårar bearbetning.

Tänk på att välja olika filnamn för olika stycken, eftersom lika namn
innehar att den gamla filen raderas och ersätts med den nya. Du kan inte ha
både en programfil och datafil med samma namn på en diskett, välj olika
namn om du vill ha samma program både som programfil och datafil.

@ - DISKETTRUTINER

Till din hjälp finns en särskild rutin inlagd med diskettrutiner, med vars
hjälp du enkelt kan läsa av diskstatus, ta bort en fil eller visa
diskbiblioteket. Diskrutinerna kan du komma till med @ både från huvudmenyn
och datafils-menyn.

X - AVSLUTA

Om du avslutar med detta kommando stängs nödvändiga filer, men du får även
ett dataskydd, så att du kan, om du upptäcker att du glömt spara musiken,
återstarta med CONT så att du har kvar musiken.

SYS-KODER FÖR MUSIKSTYCKENA

Spela en gång:
SYS49152:SYS49163
(SYS49152 nollställer SID-chipet).

Spela kontinuerligt:
SYS49152:POKE49311,229: SYS49163
Avbryt med:
POKE49311,161:SYS49152

SLUTKOMMENTAR

Som framgår har programmet vissa begränsninga för att göra inmatningen av
melodier enklare (färre variabler att mata in för varje ton) och för att
maskinkosdrutinen ska kunna hållas så begränsad som möjligt. Härigenom ryms
längre musikstycken inom det 4K stora minnesutrymme som disponeras. Man
vinner också det att musikfilerna blir betydligt kortare och därigenom
snabbare laddas in.

Begränsningarna utgörs av att enbart två stämmor matas in, och att båda
stämmorna följs åt vad avser tonlängd. Du kan inte heller laborera med
ljudeffekter som synkronisering, ringmodulering osv.

En förhoppning är att de enkla och överskådliga rutinerna för inmatning och
korrigering av toner, samt för val av vågformer, ADSR-värden osv. samt
tempo och tonhöjd ändå stimulerar till vidare expriment med 64:ans
ljudkapacitet.

*********

End of the International Project 64 etext of the 64Musik manual.

*********
